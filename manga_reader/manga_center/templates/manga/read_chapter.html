{% extends "base.html" %}
{% block title %}{{ manga.title }} - Chapter {{ chapter.number }}{% endblock %}

{% block content %}
<div class="mb-3 d-flex justify-content-between align-items-center">
    <div>
        <h3>{{ manga.title }}</h3>
        <small>Chapter {{ chapter.number }}{% if chapter.title %} â€” {{ chapter.title }}{% endif %}</small>
    </div>
    <div>
        <a href="{{ url_for('manga.view_manga', manga_id=manga.id) }}" class="btn btn-secondary btn-sm">Back to
            Manga</a>
    </div>
</div>

<div class="reader">
    {% for page in pages %}
    {% if page is string %}
    <div class="mb-3 text-center">
        <img src="{{ page }}" class="img-fluid" alt="Page {{ loop.index }}">
    </div>
    {% elif page.image is defined %}
    <div class="mb-3 text-center">
        <img src="{{ url_for('static', filename=page.image) }}" class="img-fluid" alt="Page {{ loop.index }}">
    </div>
    {% else %}
    {# fallback if passed a file name only #}
    <div class="mb-3 text-center">
        <img src="{{ url_for('static', filename=page) }}" class="img-fluid" alt="Page {{ loop.index }}">
    </div>
    {% endif %}
    {% else %}
    <p>No pages found for this chapter.</p>
    {% endfor %}
</div>

{% endblock %}