{% extends "base.html" %}
{% block content %}
<h2>Admin Dashboard</h2>

<h3>Pending Studio Requests</h3>
{% if pending_requests %}
<ul>
    {% for req in pending_requests %}
    <li>
        {{ req.requester.username }} ({{ req.requester.email }}) - requested at {{ req.requested_at }}
        <a href="{{ url_for('admin.accept_studio_request', req_id=req.id) }}">Accept</a> |
        <a href="{{ url_for('admin.reject_studio_request', req_id=req.id) }}">Reject</a>
    </li>
    {% endfor %}
</ul>
{% else %}
<p>No Pending Requests.</p>
{% endif %}

<h3>All Users</h3>
<ul>
    {% for user in all_users %}
    <li>
        {{ user.username }} ({{ user.email }}) - role: {{ user.role }}
        {% if user.role != 'studio' and user.role != 'admin' %}
        <a href="{{ url_for('admin.promote_to_studio', user_id=user.id) }}">Promote to Studio</a>
        {% endif %}
    </li>
    {% endfor %}
</ul>

{% endblock %}