{% extends "base.html" %}
{% block title %}{{ author.pen_name or author.user.username }} - Author Profile{% endblock %}

{% block content %}
<section class="author-profile">
    <h2>Author: {{ author.pen_name or author.user.username }}</h2>
    <p><strong>Username:</strong> {{ author.user.username }}</p>

    {% if author.pen_name %}
    <p><strong>Pen Name:</strong> {{ author.pen_name }}</p>
    {% endif %}

    <h3>Published Manga</h3>
    {% if mangas %}
    <div style="display: flex; flex-wrap: wrap; gap: 20px;">
        {% for manga in mangas %}
        <div style="border: 1px solid #ccc; border-radius: 10px; padding: 10px; width: 200px; text-align: center;">
            <a href="{{ url_for('public.view_manga', manga_id=manga.id) }}">
                <img src="{{ manga.cover_url }}" alt="{{ manga.title }}"
                    style="max-width: 100%; height: auto; border-radius: 5px;">
            </a>
            <h3>{{ manga.title }}</h3>
            <p>{{ manga.description[:80] }}{% if manga.description|length > 80 %}...{% endif %}</p>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p>This author hasn’t published any manga yet.</p>
    {% endif %}

    <div style="margin-top: 15px;">
        <a href="{{ url_for('public.index') }}">⬅ Back to Home</a>
    </div>
</section>
{% endblock %}