{% extends "base.html" %}
{% from "pagination.html" import render_pagination %}
{% block content %}
<div class="container mt-4">
  <h2>Search Posts</h2>
  <form method="POST">
    {{ form.hidden_tag() }}
    <div class="mb-3">
      {{ form.query(class="form-control", placeholder="Search...", value=query) }}
    </div>
    {{ form.submit(class="btn btn-primary") }}
  </form>

  {% if posts %}
  <h4 class="mt-4">Results:</h4>
  <ul class="list-group">
    {% for post in posts.items %}
    <li class="list-group-item">
      <a href="{{ url_for('post.view_post', post_id=post.id) }}">{{ post.title }}</a>
    </li>
    {% endfor %}
  </ul>
  {{ render_pagination(posts, 'search.search', query=query) }}
  {% elif form.query.data %}
  <p class="mt-4 text-muted">No results found.</p>
  {% endif %}
</div>
{% endblock %}